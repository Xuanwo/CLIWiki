<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/colorful.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>linux - CLI Wiki</title>
    <meta name="keywords" content="wiki, makrdown, linux, CLI, cookbook"/>
    <meta name="description" content="CLI cookbook"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  </head>

  <body>
    <div id="container" class="typo">
      
<div id="header">
  <div id="post-nav">
    <a href="/">CLI Wiki</a>
    &nbsp;&#187;&nbsp;
    <a href="/#System">System</a>
    &nbsp;&#187;&nbsp;linux
    <span class="updated">Updated&nbsp;
    2016-05-20 15:01:00
    </span>
  </div>
</div>
<div class="clearfix"></div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#chgrp">改变所属群组, chgrp</a></li>
<li><a href="#chown">改变文件拥有者, chown</a></li>
<li><a href="#chmod">改变权限, chmod</a><ul>
<li><a href="#_1">数字形式修改权限</a></li>
<li><a href="#_2">字母形式修改权限</a></li>
</ul>
</li>
<li><a href="#bcm43142">安装博通 BCM43142 网卡驱动</a></li>
<li><a href="#_3">隐藏标题栏后如何取消最大化</a></li>
<li><a href="#_4">修改快捷链接</a></li>
<li><a href="#_5">桌面快捷方式位置</a></li>
<li><a href="#usrbinld-cannot-find-lxxx">解决/usr/bin/ld: cannot find -lxxx错误</a><ul>
<li><a href="#_6">原因</a></li>
<li><a href="#_7">解决方案</a></li>
<li><a href="#_8">样例</a></li>
</ul>
</li>
<li><a href="#fatal-error-pythonh-no-such-file-or-directory">解决fatal error: Python.h: No such file or directory错误</a></li>
<li><a href="#aira2">aira2及其前端的配置</a><ul>
<li><a href="#aria2">安装aria2</a></li>
<li><a href="#_9">前端配置</a></li>
<li><a href="#_10">后台启动</a></li>
<li><a href="#_11">开机自启</a></li>
</ul>
</li>
<li><a href="#ubuntucisco-anyconnent-vpn">Ubuntu支持Cisco Anyconnent VPN</a></li>
<li><a href="#jetbrains">JetBrains开发工具的安装</a></li>
<li><a href="#_12">查看端口占用情况</a></li>
<li><a href="#_13">查看运行中的进程</a></li>
<li><a href="#_14">杀死某个僵死的进程</a></li>
<li><a href="#_15">安装英伟达私有驱动并进行双显卡切换</a></li>
<li><a href="#mp3">转换MP3编码</a></li>
<li><a href="#_16">在后台运行程序</a></li>
<li><a href="#ssh">通过SSH传输文件</a></li>
<li><a href="#ssh-agent">将密钥加入SSH-Agent</a></li>
<li><a href="#_17">查看内核</a></li>
<li><a href="#_18">修改分屏分辨率</a></li>
<li><a href="#_19">去除恼人的错误报告提示</a></li>
<li><a href="#_20">修改网卡的物理地址</a></li>
<li><a href="#fuse">目录下有.fuse开头的隐藏文件</a></li>
<li><a href="#_21">美化字体</a></li>
<li><a href="#ntfs">NTFS分区下文件无法正常删除</a></li>
<li><a href="#rpm-gpg-key-fedora-x86_64">缺少RPM-GPG-KEY-fedora-x86_64文件</a></li>
<li><a href="#shell">重定向Shell标准输入，输出和错误</a><ul>
<li><a href="#_22">将错误信息重定向到空设备</a></li>
<li><a href="#_23">将标准输出和错误重定向到指定文件</a></li>
</ul>
</li>
<li><a href="#ap">创建AP热点</a></li>
<li><a href="#unity">为Unity增加系统监视器</a></li>
</ul>
</div>
<h2 id="chgrp">改变所属群组, chgrp</h2>
<p><strong>适用于Liunx系列系统</strong></p>
<div class="hlcode"><pre><span class="n">chgrp</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span><span class="p">]</span> <span class="n">dirname</span><span class="o">/</span><span class="n">filename</span> <span class="p">...</span>
</pre></div>


<p><code>-R</code> : 意为递归修改</p>
<h2 id="chown">改变文件拥有者, chown</h2>
<p><strong>适用于Liunx系列系统</strong></p>
<div class="hlcode"><pre><span class="n">chown</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span><span class="p">]</span> <span class="err">账号名称</span> <span class="err">文件或目录</span>
<span class="n">chown</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span><span class="p">]</span> <span class="err">账号名称</span><span class="o">:</span><span class="err">组名</span> <span class="err">文件或目录</span>
</pre></div>


<p><code>-R</code> : 意为递归修改</p>
<p>可以同时修改文件所有者和所属群组</p>
<h2 id="chmod">改变权限, chmod</h2>
<p><strong>适用于Liunx系列系统</strong></p>
<p>Linux文件的基本权限就有九个，分别是owner/group/others三种身份各有自己的read/write/execute权限。</p>
<h3 id="_1">数字形式修改权限</h3>
<p>我们可以使用数字来代表各个权限，各权限的分数对照表如下：</p>
<table>
<thead>
<tr>
<th>权限</th>
<th>对应数字</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>4</td>
</tr>
<tr>
<td>w</td>
<td>2</td>
</tr>
<tr>
<td>x</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>每种身份(owner/group/others)各自的三个权限(r/w/x)分数是需要累加的，例如当权限为： <code>[-rwxrwx---]</code> 分数则是：</p>
<p>owner = rwx = 4+2+1 = 7</p>
<p>group = rwx = 4+2+1 = 7</p>
<p>others= --- = 0+0+0 = 0</p>
<p>变更文件权限的命令为：</p>
<div class="hlcode"><pre><span class="n">chmod</span> <span class="p">[</span><span class="o">-</span><span class="n">R</span><span class="p">]</span> <span class="n">xyz</span> <span class="err">文件或目录</span>
</pre></div>


<h3 id="_2">字母形式修改权限</h3>
<table>
<thead>
<tr>
<th>命令</th>
<th>用户类型</th>
<th>修改操作</th>
<th>权限类型</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>chmod</td>
<td>u<br>g<br>o<br>a</td>
<td>+(加入)<br>-(除去)<br>=(设定)</td>
<td>r<br>w<br>x</td>
<td>文件或目录</td>
</tr>
</tbody>
</table>
<p>样例：</p>
<div class="hlcode"><pre><span class="n">chmod</span>  <span class="n">u</span><span class="o">=</span><span class="n">rwx</span><span class="p">,</span><span class="n">go</span><span class="o">=</span><span class="n">rx</span>  <span class="p">.</span><span class="n">bashrc</span>
<span class="cp"># -rwxr-xr-x .bashrc</span>
<span class="n">chmod</span>  <span class="n">a</span><span class="o">+</span><span class="n">w</span>  <span class="p">.</span><span class="n">bashrc</span>
<span class="cp"># -rwxrwxrwx .bashrc</span>
</pre></div>


<h2 id="bcm43142">安装博通 BCM43142 网卡驱动</h2>
<p><strong>适用于 Fedora 23</strong></p>
<blockquote>
<p>首先应当确认自己的网卡型号： <code>lspci | grep Network</code>
如果后面的芯片型号包括 BCM4312，BCM43142 等可以应用本教程</p>
</blockquote>
<p>首先需要添加 RPMFusion 以支持添加更多软件来源：</p>
<p>Fedora 22 and later:</p>
<div class="hlcode"><pre>su -c <span class="s1">&#39;dnf install http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm&#39;</span>
</pre></div>


<p>更多版本请参见： http://rpmfusion.org/Configuration</p>
<p>然后执行下列命令以安装需要的包：</p>
<div class="hlcode"><pre>sudo dnf install kernel-devel akmod-wl
</pre></div>


<p>然后执行下列命令以重新编译内核模块：</p>
<div class="hlcode"><pre>sudo akmods
</pre></div>


<p>然后执行下列命令以加载内核代码：</p>
<div class="hlcode"><pre>sudo modprobe wl
</pre></div>


<p>最后重启网络管理器：</p>
<div class="hlcode"><pre>sudo systemctl restart NetworkManager
</pre></div>


<h2 id="_3">隐藏标题栏后如何取消最大化</h2>
<p><strong>适用于 Gnome 3.14</strong></p>
<ul>
<li>alt+space可以唤出相关选单，取消最大化即可</li>
<li>使用鼠标自顶向下拖动即可解除最大化</li>
</ul>
<h2 id="_4">修改快捷链接</h2>
<p><strong>适用于 Gnome 3.14</strong></p>
<p>有时候会出现快捷链接方式错误的现象，这个需要进入<code>/usr/share/applications</code>文件夹寻找对应的<code>.desktop</code>文件来修改。</p>
<p><code>.desktop</code>文件只是一个文本文档，大致内容如下：</p>
<div class="hlcode"><pre><span class="k">[Desktop Entry]</span>
<span class="na">Version</span><span class="o">=</span><span class="s">1.0</span>
<span class="na">Type</span><span class="o">=</span><span class="s">Application</span>
<span class="na">Name</span><span class="o">=</span><span class="s">PyCharm</span>
<span class="na">Icon</span><span class="o">=</span><span class="s">/home/xuanwo/Soft/pycharm-5.0.4/bin/pycharm.png # 指定图标</span>
<span class="na">Exec</span><span class="o">=</span><span class="s">&quot;/home/xuanwo/Soft/pycharm-5.0.4/bin/pycharm.sh&quot; %f # 指定可执行文件</span>
<span class="na">Comment</span><span class="o">=</span><span class="s">Develop with pleasure!</span>
<span class="na">Categories</span><span class="o">=</span><span class="s">Development;IDE; # 指定分类</span>
<span class="na">Terminal</span><span class="o">=</span><span class="s">false</span>
<span class="na">StartupWMClass</span><span class="o">=</span><span class="s">jetbrains-pycharm</span>
</pre></div>


<p>只需要按照正确的地址修改链接即可~</p>
<h2 id="_5">桌面快捷方式位置</h2>
<p><strong>适用于 Gnome 3.14</strong></p>
<p>桌面快捷方式文件放置于/usr/share/applications或者~/.local/share/applications处。
前一个目录存储的桌面快捷方式每个用户都可以使用，而后一个目录则含有仅仅为特定用户创建的快捷方式。</p>
<h2 id="usrbinld-cannot-find-lxxx">解决/usr/bin/ld: cannot find -lxxx错误</h2>
<p><strong>适用于Linux系列系统</strong></p>
<h3 id="_6">原因</h3>
<ol>
<li>系统没有安装相对应的lib</li>
<li>相对应的lib版本不对</li>
<li>lib(.so档)的符号链接不正确，没有连结到正确的函式库文件(.so)</li>
</ol>
<h3 id="_7">解决方案</h3>
<ol>
<li>先判断在<code>/usr/lib</code>下的相对应的函式库文件(.so)的符号链接是否正确，若不正确改成正确的连结目标即可解决问题。</li>
<li>若不是符号链接的问题引起，而是系统缺少相对应的lib，则安装lib即可解决。</li>
</ol>
<h3 id="_8">样例</h3>
<blockquote>
<p>包名格式
<code>lxxx</code>对应so档一般为<code>libxxx.so</code>，对应apt软件包一般为<code>libxxx-dev</code></p>
</blockquote>
<p><strong>符号链接不正确</strong></p>
<div class="hlcode"><pre><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span><span class="o">:</span> <span class="n">cannot</span> <span class="n">find</span> <span class="o">-</span><span class="n">lXtst</span>
</pre></div>


<p>检查发现存在<code>libXtst.so.6</code>，使用命令<code>ln -s libXtst.so.6 libXtst.so</code>建立软连接即可。</p>
<p><strong>未安装对应包</strong></p>
<div class="hlcode"><pre><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ld</span><span class="o">:</span> <span class="n">cannot</span> <span class="n">find</span> <span class="o">-</span><span class="n">lc</span>
</pre></div>


<p>不是符号链接的问题，则使用命令<code>apt-get install libc-dev</code></p>
<h2 id="fatal-error-pythonh-no-such-file-or-directory">解决fatal error: Python.h: No such file or directory错误</h2>
<p><strong>适用于 Ubuntu</strong></p>
<p>安装指定的Python版本</p>
<div class="hlcode"><pre><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="mf">.5</span><span class="o">-</span><span class="n">dev</span>
</pre></div>


<p><em>具体版本取决于编译需要</em></p>
<h2 id="aira2">aira2及其前端的配置</h2>
<p><strong>适用于 Ubuntu</strong></p>
<h3 id="aria2">安装aria2</h3>
<div class="hlcode"><pre>sudo apt-get install aria2
</pre></div>


<h3 id="_9">前端配置</h3>
<p>可以选择uget或者Web化前端，uget直接在设置中开启即可，此处主要介绍一下前端配置。</p>
<p>首先clone代码：</p>
<div class="hlcode"><pre>git clone https://github.com/ziahamza/webui-aria2.git
</pre></div>


<p>然后创建<code>~/.aria2/aria2.conf</code>，内容请参考<a href="http://aria2c.com/usage.html">此处</a></p>
<p>根据自己的需要修改即可，需要注意的有以下地方：</p>
<ul>
<li>涉及到地址的地方最好使用绝对路径，相对路径会出现找不到文件之类的奇怪问题</li>
<li>不支持中文路径</li>
<li>按照自己的需要设置<code>rpc-secre</code>并修改<code>webui-aria2</code>路径下的<code>configuration.js</code>文件（<em>直接在浏览器中填写的话，无法保存</em>）</li>
</ul>
<h3 id="_10">后台启动</h3>
<p>首先使用<code>aria2c</code>命令尝试启动，若测试一切正常，则可以使用<code>aria2c -D</code>命令使其在后台运行。</p>
<h3 id="_11">开机自启</h3>
<p>在Ubuntu上可以通过修改<code>/etc/rc.local</code>的方式设置开机自启，只需要填写自己需要的命令即可。使用Sudo权限打开文件，在<code>exit 0</code>的上方加入：</p>
<div class="hlcode"><pre><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">aria2c</span> <span class="o">--</span><span class="n">conf</span><span class="o">-</span><span class="n">path</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">xuanwo</span><span class="o">/</span><span class="p">.</span><span class="n">aria2</span><span class="o">/</span><span class="n">aria2</span><span class="p">.</span><span class="n">conf</span> <span class="o">&amp;</span>
</pre></div>


<p>按照自己的需求修改，需要注意以下地方：</p>
<ul>
<li><code>rc.local</code>在启动时没有初始化path，故aria2c不会自动加载配置文件，需要自己手动指定配置文件地址并使用绝对地址运行aria2c，否则无法正确开机自启。</li>
<li><code>-D</code>参数错误退出是不会输出stderr信息，推荐使用<code>&amp;</code>来让进程运行于后台</li>
<li>一定要确保命令正确退出，否则，轻则程序没有正确自启，重则无法进入桌面</li>
</ul>
<blockquote>
<p>如果发现没有正确自启，可以使用<code>systemctl status re.loacl.service -l</code>命令查看输出的信息。</p>
</blockquote>
<h2 id="ubuntucisco-anyconnent-vpn">Ubuntu支持Cisco Anyconnent VPN</h2>
<p><strong>适用于 Ubuntu 15.04 </strong></p>
<p>由于Cisco的Anyconnect是一个私有的程序，只有在部署了Cisco VPN的地方才能够下载到相应的程序。因此我们可以转而使用开源的Openconnent：</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">network</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">openconnect</span><span class="o">-</span><span class="n">gnome</span>
</pre></div>


<p>安装完毕后，在网络管理器中添加网络-VPN，就能看到关于<code>Cisco Anyconnect兼容的VPN</code>选项。</p>
<h2 id="jetbrains">JetBrains开发工具的安装</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<p>在官网上下载压缩包，在合适的位置解压缩，然后运行<code>bin</code>文件夹中对应sh文件即可。</p>
<blockquote>
<p>运行完毕后建议不要在移动文件夹，否则自动创建的快捷方式会失效，需要自行修改位置。</p>
</blockquote>
<h2 id="_12">查看端口占用情况</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<div class="hlcode"><pre>netstat -ap | grep &lt;port&gt;
</pre></div>


<p>使用过程中经常出现端口被占用导致无法启动程序的情况，只要使用此命令查看端口占用，然后使用<code>kill</code>杀死占用端口的进程即可</p>
<h2 id="_13">查看运行中的进程</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<div class="hlcode"><pre>ps -aux
</pre></div>


<blockquote>
<p>需要注意的是，只会显示当前用户开启的进程，如果想查看所有进程，需要添加<code>sudo</code></p>
</blockquote>
<h2 id="_14">杀死某个僵死的进程</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<div class="hlcode"><pre><span class="nb">kill </span>pid
</pre></div>


<blockquote>
<p>在ZSH中输入<code>kill</code>然后敲击<code>tab</code>，会出现所有运行中的进程，输入名字即可自动转换为pid。</p>
</blockquote>
<h2 id="_15">安装英伟达私有驱动并进行双显卡切换</h2>
<p><strong>适用于 Ubuntu 系统</strong></p>
<p>安装英伟达的驱动有两种方法：</p>
<ul>
<li>执行<code>sudo apt-get install nvidia-&lt;version&gt;</code></li>
<li>在<code>附加驱动</code>中勾选NVIDIA闭源驱动</li>
</ul>
<p>这两种方法本质上是一样的，当前的最新版本号为352。
安装完成后，在程序菜单中找到<code>NVIDIA X Server Setting</code>，然后在<code>PRIME Setting</code>中可以选择是使用<code>低能耗（Intel）</code>还是<code>高性能（NVIDIA）</code>模式。勾选完成后重启即可。</p>
<blockquote>
<p>按照程序的提示是只需要logout即可，但是我测试之后发现无法正常进入桌面，所以还是直接重启吧~</p>
</blockquote>
<h2 id="mp3">转换MP3编码</h2>
<p><strong>适用于 Ubuntu 系统</strong></p>
<p>转换MP3编码可以使用<code>EasyTag</code>。</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">easytag</span>
</pre></div>


<p>然后选择乱码的MP3，读取使用对应的语言，然后写入为<code>UTF-8</code>即可。</p>
<h2 id="_16">在后台运行程序</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<ul>
<li><code>&lt;command&gt; &amp;</code>：后台运行</li>
<li><code>Ctrl+z</code>： 将命令转到后台并停止运行</li>
<li><code>jobs</code>：查看后台运行的任务</li>
<li><code>fg %&lt;id&gt;</code>：将后台任务调至前台运行</li>
<li><code>bg %&lt;id&gt;</code>：让后台任务从停止状态转为运行状态用</li>
</ul>
<p><strong>注意，以上所有的后台任务在退出当前Shell时都会中断</strong>，如果想在退出Shell或者SSH后，任务依然执行，可以使用下列命令：</p>
<ul>
<li><code>(&lt;command&gt; &amp;)</code>：将命令使用括号包裹，使其在另一个shell中运行</li>
<li><code>nohup &lt;command&gt; &amp;</code>：在命令之前加<code>nohup</code>，使得命令不受中断信号影响</li>
</ul>
<h2 id="ssh">通过SSH传输文件</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<p>只需要使用scp命令：</p>
<div class="hlcode"><pre>scp <span class="nb">source </span>target
</pre></div>


<p>这里的源和目标均支持文件和目录，如果复制的是一个目录，需要在scp后添加<code>-r</code>参数。</p>
<h2 id="ssh-agent">将密钥加入SSH-Agent</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<div class="hlcode"><pre>ssh-add + &lt;private key&gt;
</pre></div>


<h2 id="_17">查看内核</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<div class="hlcode"><pre>uname -a
</pre></div>


<h2 id="_18">修改分屏分辨率</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<p>执行如下命令，显示目前显示器支持的分辨率：</p>
<div class="hlcode"><pre><span class="n">xrandr</span>
</pre></div>


<p>结果如下：</p>
<div class="hlcode"><pre><span class="n">Screen</span> <span class="mi">0</span><span class="o">:</span> <span class="n">minimum</span> <span class="mi">8</span> <span class="n">x</span> <span class="mi">8</span><span class="p">,</span> <span class="n">current</span> <span class="mi">3286</span> <span class="n">x</span> <span class="mi">1080</span><span class="p">,</span> <span class="n">maximum</span> <span class="mi">32767</span> <span class="n">x</span> <span class="mi">32767</span>
<span class="n">LVDS1</span> <span class="n">connected</span> <span class="n">primary</span> <span class="mi">1366</span><span class="n">x768</span><span class="o">+</span><span class="mi">0</span><span class="o">+</span><span class="mi">0</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span> <span class="mi">344</span><span class="n">mm</span> <span class="n">x</span> <span class="mi">194</span><span class="n">mm</span>
   <span class="mi">1366</span><span class="n">x768</span>      <span class="mf">60.01</span><span class="o">*+</span>
   <span class="mi">1360</span><span class="n">x768</span>      <span class="mf">59.80</span>    <span class="mf">59.96</span>
   <span class="mi">1280</span><span class="n">x720</span>      <span class="mf">60.00</span>
   <span class="mi">1024</span><span class="n">x768</span>      <span class="mf">60.00</span>
   <span class="mi">1024</span><span class="n">x576</span>      <span class="mf">60.00</span>
   <span class="mi">960</span><span class="n">x540</span>       <span class="mf">60.00</span>
   <span class="mi">800</span><span class="n">x600</span>       <span class="mf">60.32</span>    <span class="mf">56.25</span>
   <span class="mi">864</span><span class="n">x486</span>       <span class="mf">60.00</span>
   <span class="mi">640</span><span class="n">x480</span>       <span class="mf">59.94</span>
   <span class="mi">720</span><span class="n">x405</span>       <span class="mf">60.00</span>
   <span class="mi">680</span><span class="n">x384</span>       <span class="mf">60.00</span>
   <span class="mi">640</span><span class="n">x360</span>       <span class="mf">60.00</span>
<span class="n">DP1</span> <span class="n">disconnected</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span>
<span class="n">DP2</span> <span class="n">disconnected</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span>
<span class="n">HDMI1</span> <span class="n">disconnected</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span>
<span class="n">HDMI2</span> <span class="n">disconnected</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span>
<span class="n">VGA1</span> <span class="n">connected</span> <span class="mi">1920</span><span class="n">x1080</span><span class="o">+</span><span class="mi">1366</span><span class="o">+</span><span class="mi">0</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span> <span class="mi">0</span><span class="n">mm</span> <span class="n">x</span> <span class="mi">0</span><span class="n">mm</span>
   <span class="mi">1024</span><span class="n">x768</span>      <span class="mf">60.00</span>
   <span class="mi">800</span><span class="n">x600</span>       <span class="mf">60.32</span>    <span class="mf">56.25</span>
   <span class="mi">848</span><span class="n">x480</span>       <span class="mf">60.00</span>
   <span class="mi">640</span><span class="n">x480</span>       <span class="mf">59.94</span>
<span class="n">VIRTUAL1</span> <span class="n">disconnected</span> <span class="p">(</span><span class="n">normal</span> <span class="n">left</span> <span class="n">inverted</span> <span class="n">right</span> <span class="n">x</span> <span class="n">axis</span> <span class="n">y</span> <span class="n">axis</span><span class="p">)</span>
</pre></div>


<p>我们可以看到显示器目前是不支持1920x1080分辨率的，因此我们需要首先自行生成相关分辨率的配置参数：</p>
<div class="hlcode"><pre><span class="n">cvt</span> <span class="mi">1920</span> <span class="mi">1080</span>
</pre></div>


<p>输出如下：</p>
<div class="hlcode"><pre><span class="cp"># 1920x1080 59.96 Hz (CVT 2.07M9) hsync: 67.16 kHz; pclk: 173.00 MHz</span>
<span class="n">Modeline</span> <span class="s">&quot;1920x1080_60.00&quot;</span>  <span class="mf">173.00</span>  <span class="mi">1920</span> <span class="mi">2048</span> <span class="mi">2248</span> <span class="mi">2576</span>  <span class="mi">1080</span> <span class="mi">1083</span> <span class="mi">1088</span> <span class="mi">1120</span> <span class="o">-</span><span class="n">hsync</span> <span class="o">+</span><span class="n">vsync</span>
</pre></div>


<p>然后新建显示模式并添加到配置列表中去：</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">xrandr</span> <span class="o">--</span><span class="n">newmode</span> <span class="s">&quot;1920x1080_60.00&quot;</span>  <span class="mf">173.00</span>  <span class="mi">1920</span> <span class="mi">2048</span> <span class="mi">2248</span> <span class="mi">2576</span>  <span class="mi">1080</span> <span class="mi">1083</span> <span class="mi">1088</span> <span class="mi">1120</span> <span class="o">-</span><span class="n">hsync</span> <span class="o">+</span><span class="n">vsync</span>
<span class="n">sudo</span> <span class="n">xrandr</span> <span class="o">--</span><span class="n">addmode</span> <span class="n">VGA1</span> <span class="s">&quot;1920x1080_60.00&quot;</span>
</pre></div>


<p>然后我们就可以设定显示屏的分辨率了：</p>
<div class="hlcode"><pre><span class="n">xrandr</span> <span class="o">--</span><span class="n">output</span> <span class="n">VGA1</span> <span class="o">--</span><span class="n">mode</span> <span class="mi">1920</span><span class="n">x1080_60</span><span class="mf">.00</span>
</pre></div>


<p>如果担心自己设定的分辨率不支持，可以再追加一个<code>sleep</code>命令以保证不会困在无效的分辨率下：</p>
<div class="hlcode"><pre><span class="n">xrandr</span> <span class="o">--</span><span class="n">output</span> <span class="n">VGA1</span> <span class="o">--</span><span class="n">mode</span> <span class="mi">1920</span><span class="n">x1080_60</span><span class="mf">.00</span> <span class="o">&amp;&amp;</span> <span class="n">sleep</span> <span class="mi">5</span>
</pre></div>


<p>此配置仅在当前会话下生效，如果需要永久生效可以考虑修改<code>xorg.conf</code>或者设定一个开机执行的脚本。</p>
<blockquote>
<p>已知问题：
使用英伟达的官方驱动会导致分屏分辨率切换异常，暂时无解，使用Intel的Power Save模式可以正常开启分屏</p>
</blockquote>
<h2 id="_19">去除恼人的错误报告提示</h2>
<p><strong>适用于 Ubuntu 15.04 系列系统</strong></p>
<p>Ubuntu非常令人讨厌的一点就是时不时弹出的错误报告，又不能给出有效的诊断信息，还总是打乱自己当前正在运行的全屏程序，使用下列命令可以去除这个错误报告提示：</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">purge</span> <span class="n">apport</span><span class="o">*</span>
</pre></div>


<h2 id="_20">修改网卡的物理地址</h2>
<p><strong>适用于 Linux 系列系统</strong></p>
<p>在某些需要网卡物理地址和IP绑定的情形下，会有需要修改网卡物理地址的需求，可以通过如下命令进行修改：</p>
<div class="hlcode"><pre>sudo ifconfig enp5s0 down
sudo ifconfig enp5s0 hw ether XX:XX:XX:XX:XX:XX
sudo ifconfig enp5s0 up
</pre></div>


<h2 id="fuse">目录下有.fuse开头的隐藏文件</h2>
<p><code>.fuse_hiddenXXXX</code>的隐藏文件表示当前目录正在被某个程序使用，如果需要删除当前文件夹，可以使用</p>
<div class="hlcode"><pre><span class="n">lsof</span> <span class="o">/</span><span class="n">just</span><span class="o">/</span><span class="n">the</span><span class="o">/</span><span class="n">directory</span><span class="o">/</span><span class="n">path</span>
</pre></div>


<p>来查看当前目录的使用情况，使用</p>
<div class="hlcode"><pre><span class="n">kill</span> <span class="n">PID</span>
</pre></div>


<p>来关闭占用当前目录的程序即可。</p>
<h2 id="_21">美化字体</h2>
<p><strong>适用于Fedora23，24</strong></p>
<blockquote>
<p>原来的infinality包似乎已经不再维护也没有地方下载了，有热心人重新制作了一个<code>Infinality Ultimate Bundle</code>，试用之后感觉效果非常不错。</p>
</blockquote>
<p>首先添加相关的repo：</p>
<div class="hlcode"><pre>dnf install http://rpm.danielrenninghoff.com/infinality/fedora/<span class="k">$(</span>rpm -E %fedora<span class="k">)</span>/noarch/infinality-ultimate-repo-<span class="k">$(</span>rpm -E %fedora<span class="k">)</span>-1.noarch.rpm
</pre></div>


<p>然后安装打过补丁的字体和字体设定以及freetype包：</p>
<div class="hlcode"><pre>dnf install --allowerasing cairo-infinality-ultimate fontconfig-infinality-ultimate freetype-infinality-ultimate
</pre></div>


<p>如果之前安装过<code>devel</code>的包，开发者在库里面同样提供了对应的包，只需要在包名后添加<code>*-infinality-ultimate-devel</code>即可。</p>
<p>为了最好的效果，你还可以安装附加的字体包：</p>
<div class="hlcode"><pre>dnf install --allowerasing ibfonts-meta-base ibfonts-meta-extended-lt ibfonts-meta-extended
</pre></div>


<blockquote>
<p>某些字体在fedora23升级24时出现冲突，删除即可。</p>
</blockquote>
<p>对于试用java的应用，开发者提供了打过补丁的jdk-1.8.0以提供良好的字体渲染。</p>
<div class="hlcode"><pre>dnf install --allowerasing java-1.8.0-openjdk-infinality-ultimate-headless
</pre></div>


<p>对于某些使用自带jre的软件，比如说<code>Jetbrains</code>家的IDE，需要指定它使用系统的jre。对于<code>Jetbrains</code>来说，就是删除它自带的jre目录。</p>
<h2 id="ntfs">NTFS分区下文件无法正常删除</h2>
<p>NTFS设置自动挂载之后发现无法在图形界面下正常删除，但是通过Shell可以。这个问题是因为Gnome在删除文件时会首先将文件移动到<code>.Trash</code>目录下，如果没有权限创建<code>.Trash</code>目录就会导致删除失败。所以需要修改NTFS分区挂载时的参数：</p>
<div class="hlcode"><pre>nosuid,nodev,nofail,x-gvfs-show,rw,uid<span class="o">=</span>1000,gid<span class="o">=</span>users
</pre></div>


<blockquote>
<p>其中，uid可以通过命令<code>id -u</code>获得</p>
</blockquote>
<h2 id="rpm-gpg-key-fedora-x86_64">缺少RPM-GPG-KEY-fedora-x86_64文件</h2>
<p>从Fedora 23 更新至 Fedora 24 时提示：</p>
<div class="hlcode"><pre>GPG key retrieval failed: [Errno 14] curl#37 - &quot;Couldn&#39;t open file /etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-x86_64&quot;
</pre></div>


<p>或者：</p>
<div class="hlcode"><pre>Downloading failed: GPG key retrieval failed: [Errno 14] curl#37 - &quot;Couldn&#39;t open file /etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-x86_64&quot;
</pre></div>


<p>只需要进入<code>/etc/pki/rpm-gpg/</code>然后引入对应密钥即可，比如：</p>
<div class="hlcode"><pre><span class="n">rpmkeys</span> <span class="o">--</span><span class="n">import</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">rpm</span><span class="o">-</span><span class="n">gpg</span><span class="o">/</span><span class="n">RPM</span><span class="o">-</span><span class="n">GPG</span><span class="o">-</span><span class="n">KEY</span><span class="o">-</span><span class="n">fedora</span><span class="o">-</span><span class="mi">24</span><span class="o">-</span><span class="n">x86_64</span>
</pre></div>


<h2 id="shell">重定向Shell标准输入，输出和错误</h2>
<p>在Linux系统中每一个进程都会有对应的三个打开的文件：输入，输出和错误。</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>文件描述符</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>标准输入</td>
<td>0</td>
<td>键盘</td>
</tr>
<tr>
<td>标准输出</td>
<td>1</td>
<td>屏幕</td>
</tr>
<tr>
<td>标准错误</td>
<td>2</td>
<td>屏幕</td>
</tr>
</tbody>
</table>
<p>然后我们可以通过这样的形式来重定向一个进程的输入，输出和错误</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>command &gt; file</td>
<td>将输出重定向到 file。</td>
</tr>
<tr>
<td>command &lt; file</td>
<td>将输入重定向到 file。</td>
</tr>
<tr>
<td>command &gt;&gt; file</td>
<td>将输出以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n &gt; file</td>
<td>将文件描述符为 n 的文件重定向到 file。</td>
</tr>
<tr>
<td>n &gt;&gt; file</td>
<td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n &gt;&amp; m</td>
<td>将输出文件 m 和 n 合并。</td>
</tr>
<tr>
<td>n &lt;&amp; m</td>
<td>将输入文件 m 和 n 合并。</td>
</tr>
<tr>
<td>&lt;&lt; tag</td>
<td>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td>
</tr>
</tbody>
</table>
<p>于是我们可以使用这样的技巧：</p>
<h3 id="_22">将错误信息重定向到空设备</h3>
<div class="hlcode"><pre><span class="nb">command </span>2&gt;/dev/null
</pre></div>


<h3 id="_23">将标准输出和错误重定向到指定文件</h3>
<div class="hlcode"><pre><span class="nb">command</span> &gt; out.put 2&gt;&amp;1
</pre></div>


<h2 id="ap">创建AP热点</h2>
<blockquote>
<p>要求无线网卡的驱动支持AP模式，Intel基本上都支持，博通很大概率不支持</p>
</blockquote>
<p>其实网上有很多创建AP热点的教程，但是有一个通病就是操作比较繁琐，控制不太方便，本条目使用<code>create_ap</code>脚本来开启热点，并使用<code>systemd</code>来管理热点。</p>
<p>首先检查自己的依赖：</p>
<ul>
<li>bash (to run this script)</li>
<li>util-linux (for getopt)</li>
<li>procps or procps-ng</li>
<li>hostapd</li>
<li>iproute2</li>
<li>iw</li>
<li>iwconfig (you only need this if 'iw' can not recognize your adapter)</li>
<li>haveged (optional)</li>
<li>dnsmasq</li>
<li>iptables</li>
</ul>
<p>解决依赖问题之后就可以下载脚本并安装了：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/oblique/create_ap.git</span>
<span class="n">cd</span> <span class="n">create_ap</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>


<p>其中<code>make install</code>需要管理员权限。</p>
<p>然后修改<code>create_ap.service</code>脚本以便使用<code>systemd</code>进行管理。</p>
<p>使用vim打开配置文件：</p>
<div class="hlcode"><pre><span class="n">vim</span> <span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">systemd</span><span class="o">/</span><span class="n">system</span><span class="o">/</span><span class="n">create_ap</span><span class="p">.</span><span class="n">service</span>
</pre></div>


<p>将</p>
<div class="hlcode"><pre><span class="n">ExecStart</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">create_ap</span> <span class="o">-</span><span class="n">n</span> <span class="o">-</span><span class="n">g</span> <span class="mf">10.0.0.1</span> <span class="n">wlan0</span> <span class="n">AccessPointSSID</span>
</pre></div>


<p>修改为：</p>
<div class="hlcode"><pre><span class="n">ExecStart</span><span class="o">=</span><span class="p">/</span><span class="nx">usr</span><span class="p">/</span><span class="nx">bin</span><span class="p">/</span><span class="nx">create_ap</span> <span class="o">&lt;</span><span class="nx">Wifi_name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">Ethernet_name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">SSID</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">Password</span><span class="o">&gt;</span>
</pre></div>


<p>其中Wifi名是你的无线网卡设备名，有线网卡名是你的有线网卡设备名，这些可以通过<code>ifconfig</code>查询到。
SSID就是最后开启的热点名称，Password就是Wifi的密码。</p>
<p>配置好这些后，使用如下命令来进行管理：</p>
<ul>
<li><code>systemctl start create_ap</code>   开启热点</li>
<li><code>systemctl stop create_ap</code>   关闭热点</li>
<li><code>systemctl status create_ap</code>   查看热点的状态</li>
<li><code>systemctl enable create_ap</code>   开机自动启动热点</li>
</ul>
<h2 id="unity">为Unity增加系统监视器</h2>
<p><code>[indicator-sysmonitor](https://github.com/fossfreedom/indicator-sysmonitor)</code>可以为Unity的状态栏添加一个系统监视器。</p>
<p>比较简单的方式是通过PPA安装：</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">add</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="o">:</span><span class="n">fossfreedom</span><span class="o">/</span><span class="n">indicator</span><span class="o">-</span><span class="n">sysmonitor</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">indicator</span><span class="o">-</span><span class="n">sysmonitor</span>
</pre></div>


<p>也可以自行Clone之后安装：</p>
<div class="hlcode"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/fossfreedom/indicator-sysmonitor.git</span>
<span class="n">cd</span> <span class="n">indicator</span><span class="o">-</span><span class="n">sysmonitor</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
  
</div>
      
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
var disqus_config = function () {
	this.page.url = "https://cli.xuanwo.org/System/linux"; // Replace PAGE_URL with your page's canonical URL variable
	this.page.identifier = "linux" ; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//clicookbook.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </div>
    <div id="footer">
      <div class="footer-left">
        <p>
        Copyright © 2016 Xuanwo.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        Theme by <a href="https://git.coding.net/tankywoo/yasimple_x2.git" target="_blank">YASimple_X2</a>.
        </p>
      </div> <!-- end footer-left -->
      <div class="footer-right">
        <p>Site Generated 2016-08-20 16:09:06</p>
      </div> <!-- end footer-right -->
    </div>
  </body>
</html>